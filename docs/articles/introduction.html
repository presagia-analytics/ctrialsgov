<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the ctrailsgov Package • ctrialsgov</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the ctrailsgov Package">
<meta property="og:description" content="ctrialsgov">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ctrialsgov</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction to the ctrailsgov Package</a>
    </li>
    <li>
      <a href="../articles/text_analysis.html">Text Analysis with the ctrailsgov Package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_files/header-attrs-2.10/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the ctrailsgov Package</h1>
                        <h4 class="author">Taylor Arnold and Michael J Kane</h4>
            
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p>This vignette gives a very brief overview of the current package. To start, we load the package into R.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ctrialsgov</span><span class="op">)</span></code></pre></div>
<p>In the next few sections, we see how to setup the data set, query it, and then visualize the output.</p>
<div id="create-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#create-the-data" class="anchor"></a>Create the Data</h2>
<p>Before querying the ClinicalTrials.gov data, we need to load a pre-processed version of the data into R. There are three ways to do this. If you have installed a copy of the data set locally into PostGRES, the data can be created from scratch with the following block of code (it will take a couple of minutes to finish):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org">DBI</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tomoakin/RPostgreSQL">RPostgreSQL</a></span><span class="op">)</span>

<span class="va">drv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDriver.html">dbDriver</a></span><span class="op">(</span><span class="st">'PostgreSQL'</span><span class="op">)</span>
<span class="va">con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="va">drv</span>, dbname<span class="op">=</span><span class="st">"aact"</span><span class="op">)</span>
<span class="fu"><a href="../reference/ctgov_create_data.html">ctgov_create_data</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
<p>Alternatively, we can download a static version of the data from GitHub and load this into R without needing the setup a local version of the database. This will be cached locally so that it can be re-loaded without downloading each time. To download and load this data, use the following: <strong>[the data is currently included with the package rather than downloaded]</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_load_cache.html">ctgov_load_cache</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Finally, we can load a small sample dataset (2% of the total) that is included with the package itself using the following:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_load_sample.html">ctgov_load_sample</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This is the version of the data that is used in most of the tests, examples, and in this vignette.</p>
</div>
<div id="querying-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#querying-the-data" class="anchor"></a>Querying the Data</h2>
<p>The primary function for querying the dataset is called <code>ctgov_query</code>. It can be called after using any of the functions in the previous section. Here are a few examples of how the function works. We will see a few examples here; see the help pages for a complete list of options.</p>
<p>There are a number of fields in the data that use exact matches of categories. Here, for example, we find the interventional studies:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>study_type <span class="op">=</span> <span class="st">"Interventional"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 2,899 × 28
##    nct_id      start_date phase           enrollment brief_title  official_title
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;         
##  1 NCT04670484 2021-12-01 N/A                     30 Mask Hypoxi… To Determine …
##  2 NCT04784052 2021-10-31 Phase 1/Phase 2         12 Depleted Do… TCR+ T-cell/C…
##  3 NCT04851119 2021-10-29 Phase 1/Phase 2         38 Tegavivint … A Phase 1/2 S…
##  4 NCT04538482 2021-09-30 N/A                    112 DASH INterv… Determining t…
##  5 NCT04430452 2021-09-30 Phase 2                 30 Hypofractio… Phase II Tria…
##  6 NCT04826393 2021-09-30 Phase 1                 65 ASP8374 + C… Phase Ib Tria…
##  7 NCT04271683 2021-09-01 N/A                     70 Safe Use of… Safe Use of C…
##  8 NCT03029637 2021-08-31 N/A                     90 No-preparat… No-preparatio…
##  9 NCT04307433 2021-08-31 N/A                    120 Storytellin… mHealth Deliv…
## 10 NCT04453709 2021-08-31 N/A                    232 Family-cent… Reducing Stre…
## # … with 2,889 more rows, and 22 more variables:
## #   primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;, …</code></pre>
<p>Or, all of the interventional studies that have a primary industry sponsor:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>study_type <span class="op">=</span> <span class="st">"Interventional"</span>, sponsor_type <span class="op">=</span> <span class="st">"Industry"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 783 × 28
##    nct_id      start_date phase           enrollment brief_title  official_title
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;         
##  1 NCT04683120 2021-07-15 N/A                    100 Real-time D… Real-time Dia…
##  2 NCT04875754 2021-06-30 Phase 1/Phase 2         24 A Study Eva… A Phase 1/2a,…
##  3 NCT04821310 2021-06-04 Phase 2                110 Protonix Tr… An Explorator…
##  4 NCT04839042 2021-06-01 Phase 1                 40 A Phase 1, … A Phase 1, Fi…
##  5 NCT04707768 2021-05-31 Phase 3                450 Study Evalu… A Randomized,…
##  6 NCT04855136 2021-05-04 Phase 1/Phase 2        415 Safety and … An Explorator…
##  7 NCT04732286 2021-04-30 Phase 3                100 A Study of … A Phase IIIb,…
##  8 NCT04793620 2021-04-30 Phase 1                 60 Pertussis A… A Phase 1, Ra…
##  9 NCT04803253 2021-04-30 N/A                     14 Study of th… Evaluating th…
## 10 NCT04786873 2021-04-30 Phase 3                100 A Research … Multicenter, …
## # … with 773 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>A few fields have continuous values that can be searched by giving a vector with two values. The results return any values that fall between the lower bound (first value) and the upper bound (second value). Here, we find the studies that have between 40 and 42 patients enrolled in them:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">42</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 115 × 28
##    nct_id      start_date phase   enrollment brief_title      official_title    
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;             
##  1 NCT04839042 2021-06-01 Phase 1         40 A Phase 1, Firs… A Phase 1, First-…
##  2 NCT04843852 2021-05-31 Phase 2         40 TLR-9 Adjuvante… Augmentation of H…
##  3 NCT04392180 2021-05-31 &lt;NA&gt;            42 COA-APTIC Careg… COA-APTIC Caregiv…
##  4 NCT04800991 2021-03-17 N/A             40 NuGa (Nutrition… A Pilot Study to …
##  5 NCT04646577 2020-12-01 N/A             40 The Effect of t… The Effect of Tra…
##  6 NCT03301805 2020-12-01 Phase 2         40 A Phase II, Eva… A Phase II, Open …
##  7 NCT04592224 2020-11-12 &lt;NA&gt;            40 Cancer Informat… Cancer Informatio…
##  8 NCT04473430 2020-11-05 N/A             40 Use of Continuo… Use of Continuous…
##  9 NCT04568369 2020-10-31 N/A             40 Treatment of Po… Functional Near I…
## 10 NCT04349644 2020-10-21 N/A             40 Enhancing Socia… Enhancing Social …
## # … with 105 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>Setting one end of the range to missing avoids searching for that end of the range. For example, the following finds any studies with 1000 or more patients.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 237 × 28
##    nct_id      start_date phase   enrollment brief_title      official_title    
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;             
##  1 NCT04381195 2021-06-30 &lt;NA&gt;          1300 Adult Functioni… Developing a Gold…
##  2 NCT03928639 2021-05-17 &lt;NA&gt;          9999 Structural Hear… NHLBI Structural …
##  3 NCT04884048 2021-05-01 &lt;NA&gt;          2000 Multicentric Bo… Multicentric Stud…
##  4 NCT04104555 2021-05-01 N/A           1055 Orthotics for T… Orthotics for Tre…
##  5 NCT04727437 2021-04-30 Phase 3       1466 STOPping Antico… STOPping Anticoag…
##  6 NCT04658888 2021-04-26 N/A           1211 St. Joe's Invit… Increasing Cancer…
##  7 NCT04703790 2021-04-07 &lt;NA&gt;          1200 Acceptability o… Acceptability Acr…
##  8 NCT04775992 2021-03-01 &lt;NA&gt;          1000 Preemptive Anal… Preemptive Analge…
##  9 NCT04762862 2021-02-01 &lt;NA&gt;          1200 QUANTACT : Impa… QUANTACT : Impact…
## 10 NCT04682730 2021-01-12 N/A           1200 An Implementati… An Implementation…
## # … with 227 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>Similarly, we can give a range of dates. These are given in the form of strings as “YYYY-MM-DD”:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 25 × 28
##    nct_id      start_date phase           enrollment brief_title  official_title
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;                &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;         
##  1 NCT04162236 2020-02-01 &lt;NA&gt;                   440 Cardiac Dys… Cardiac Dysfu…
##  2 NCT04036539 2020-02-01 N/A                     34 Photobiomod… Evaluation of…
##  3 NCT04617158 2020-02-01 N/A                     40 Comparing A… Comparison Be…
##  4 NCT03999164 2020-02-01 Phase 1                 30 Imaging of … Imaging of Gl…
##  5 NCT04203927 2020-02-01 Early Phase 1           50 Effects of … Effects of Em…
##  6 NCT03880149 2020-02-01 N/A                    140 The Effects… The Effects o…
##  7 NCT04263623 2020-01-31 Phase 2                 75 Clinical St… A Double-Blin…
##  8 NCT04199520 2020-01-31 Phase 2                155 Compare the… Compare the E…
##  9 NCT04219735 2020-01-30 Phase 2                200 Effect of M… Effect of Min…
## 10 NCT04774809 2020-01-29 Phase 2/Phase 3        300 Assess the … A Randomized,…
## # … with 15 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>Finally, we can also search free text fields using keywords. The following for example finds and study that includes the phrase “lung cancer” (ignoring case) in the description field:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="st">"lung cancer"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 54 × 28
##    nct_id      start_date phase         enrollment brief_title   official_title 
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;              &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;          
##  1 NCT04696939 2021-01-31 Phase 2              100 Combined Ate… Clinical Study…
##  2 NCT03421678 2020-10-31 &lt;NA&gt;                   0 Ethnic/Racia… Ethnic/Racial …
##  3 NCT04452214 2020-09-24 Phase 1               15 A Study of t… An Open-label,…
##  4 NCT04186988 2019-11-05 Early Phase 1         20 [18F]-AraG f… Imaging of T-C…
##  5 NCT03979170 2019-04-01 &lt;NA&gt;                  50 Patient-deri… Patient-derive…
##  6 NCT03720873 2018-10-31 Phase 2               90 EGFR-TKIs Co… An Multicenter…
##  7 NCT03611738 2018-10-31 Phase 1               48 Ceritinib Pl… Phase I Study …
##  8 NCT03366675 2017-12-01 Phase 2               15 AZD 2811 Mon… Phase II, Sing…
##  9 NCT04454853 2017-12-01 &lt;NA&gt;                  40 Methylated D… A Research of …
## 10 NCT03261947 2017-10-25 Phase 2              101 A Study to E… An Open-Label,…
## # … with 44 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>We can search two terms at once as well, by default it finds things that match at least one of the terms:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lung cancer"</span>, <span class="st">"colon cancer"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 61 × 28
##    nct_id      start_date phase         enrollment brief_title   official_title 
##    &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;              &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;          
##  1 NCT04696939 2021-01-31 Phase 2              100 Combined Ate… Clinical Study…
##  2 NCT03421678 2020-10-31 &lt;NA&gt;                   0 Ethnic/Racia… Ethnic/Racial …
##  3 NCT04452214 2020-09-24 Phase 1               15 A Study of t… An Open-label,…
##  4 NCT04186988 2019-11-05 Early Phase 1         20 [18F]-AraG f… Imaging of T-C…
##  5 NCT03979170 2019-04-01 &lt;NA&gt;                  50 Patient-deri… Patient-derive…
##  6 NCT03720873 2018-10-31 Phase 2               90 EGFR-TKIs Co… An Multicenter…
##  7 NCT03611738 2018-10-31 Phase 1               48 Ceritinib Pl… Phase I Study …
##  8 NCT03366675 2017-12-01 Phase 2               15 AZD 2811 Mon… Phase II, Sing…
##  9 NCT04454853 2017-12-01 &lt;NA&gt;                  40 Methylated D… A Research of …
## 10 NCT03261947 2017-10-25 Phase 2              101 A Study to E… An Open-Label,…
## # … with 51 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>But the <code>match_all</code> flag can be set to search for both terms at the same time (here, that returns no matches):</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lung cancer"</span>, <span class="st">"colon cancer"</span><span class="op">)</span>, match_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 0 × 28
## # … with 28 variables: nct_id &lt;chr&gt;, start_date &lt;date&gt;, phase &lt;chr&gt;,
## #   enrollment &lt;int&gt;, brief_title &lt;chr&gt;, official_title &lt;chr&gt;,
## #   primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, …</code></pre>
<p>Other keyword fields include <code>official_title_kw</code>, <code>source_kw</code> and <code>criteria_kw</code>.</p>
<p>Any of the options can be combined as needed.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>
  description_kw <span class="op">=</span> <span class="st">"cancer"</span>,
  enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span>,
  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 28
##   nct_id      start_date phase   enrollment brief_title official_title primary_complet…
##   &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;          &lt;date&gt;          
## 1 NCT04199520 2020-01-31 Phase 2        155 Compare th… Compare the E… 2021-01-31      
## 2 NCT03728829 2019-12-30 &lt;NA&gt;           100 Targeted N… An Observatio… 2022-09-30      
## 3 NCT04498689 2019-08-01 Phase 2        117 Efficacy a… A Phase II, S… 2022-12-31      
## 4 NCT02749552 2019-01-22 N/A            200 The Role o… The Role of V… 2019-08-31      
## # … with 21 more variables: study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
<p>Finally, we can also pass a current version of the data set to the query function, rather than starting with the full data set. This is useful when you want to combine queries in a more complex way. For example, this is equivalent to the above:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="st">"cancer"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 28
##   nct_id      start_date phase   enrollment brief_title official_title primary_complet…
##   &lt;chr&gt;       &lt;date&gt;     &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;          &lt;date&gt;          
## 1 NCT04199520 2020-01-31 Phase 2        155 Compare th… Compare the E… 2021-01-31      
## 2 NCT03728829 2019-12-30 &lt;NA&gt;           100 Targeted N… An Observatio… 2022-09-30      
## 3 NCT04498689 2019-08-01 Phase 2        117 Efficacy a… A Phase II, S… 2022-12-31      
## 4 NCT02749552 2019-01-22 N/A            200 The Role o… The Role of V… 2019-08-31      
## # … with 21 more variables: study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;, interventions &lt;list&gt;</code></pre>
</div>
<div id="visualizing-the-output" class="section level2">
<h2 class="hasAnchor">
<a href="#visualizing-the-output" class="anchor"></a>Visualizing the output</h2>
<p>The package also contains a number of tools for visualizing the output. Here is one example:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>
  description_kw <span class="op">=</span> <span class="st">"cancer"</span>,
  enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span>,
  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_plot_timeline.html">ctgov_plot_timeline</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p><img src="introduction_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Taylor Arnold, Michael J. Kane.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
