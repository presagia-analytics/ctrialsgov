<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the ctrailsgov Package • ctrialsgov</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the ctrailsgov Package">
<meta property="og:description" content="ctrialsgov">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ctrialsgov</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction to the ctrailsgov Package</a>
    </li>
    <li>
      <a href="../articles/text_analysis.html">Text Analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the ctrailsgov Package</h1>
                        <h4 class="author">Taylor Arnold</h4>
            
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div id="introduction-to-the-ctrailsgov-package" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-to-the-ctrailsgov-package" class="anchor"></a>Introduction to the ctrailsgov Package</h1>
<p>This vignette gives a very brief overview of the current package. To start, we load the package into R.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ctrialsgov</span><span class="op">)</span></code></pre></div>
<p>In the next few sections, we see how to setup the data set, query it, and then visualize the output.</p>
<div id="create-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#create-the-data" class="anchor"></a>Create the Data</h2>
<p>Before querying the ClinicalTrials.gov data, we need to load a pre-processed version of the data into R. There are three ways to do this. If you have installed a copy of the data set locally into PostGRES, the data can be created from scratch with the following block of code (it will take a couple of minutes to finish):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://r-dbi.github.io/DBI">DBI</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tomoakin/RPostgreSQL">RPostgreSQL</a></span><span class="op">)</span>

<span class="va">drv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDriver.html">dbDriver</a></span><span class="op">(</span><span class="st">'PostgreSQL'</span><span class="op">)</span>
<span class="va">con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="va">drv</span>, dbname<span class="op">=</span><span class="st">"aact"</span><span class="op">)</span>
<span class="fu"><a href="../reference/ctgov_create_data.html">ctgov_create_data</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></code></pre></div>
<p>Alternatively, we can download a static version of the data from GitHub and load this into R without needing the setup a local version of the database. This will be cached locally so that it can be re-loaded without downloading each time. To download and load this data, use the following: <strong>[the data is currently included with the package rather than downloaded]</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_load_cache.html">ctgov_load_cache</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Finally, we can load a small sample dataset (2% of the total) that is included with the package itself using the following:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_load_sample.html">ctgov_load_sample</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This is the version of the data that is used in most of the tests, examples, and in this vignette.</p>
</div>
<div id="querying-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#querying-the-data" class="anchor"></a>Querying the Data</h2>
<p>The primary function for querying the dataset is called <code>ctgov_query</code>. It can be called after using any of the functions in the previous section. Here are a few examples of how the function works. We will see a few examples here; see the help pages for a complete list of options.</p>
<p>There are a number of fields in the data that use exact matches of categories. Here, for example, we find the interventional studies:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>study_type <span class="op">=</span> <span class="st">"Interventional"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 5,821 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT033… 2021-12-31 N/A           120 "Warm and Humidif… "Warm and Humidified…
##  2 NCT046… 2021-12-01 N/A            30 "Mask Hypoxia in … "To Determine the Pr…
##  3 NCT033… 2021-11-01 N/A            20 "Platelet Rich Pl… "Assessment of the S…
##  4 NCT043… 2021-11-01 N/A            86 "Impact in Qualit… "Impact in Quality o…
##  5 NCT047… 2021-10-31 Phase…         12 "Depleted Donor S… "TCRαβ+ T-cell/CD19+…
##  6 NCT048… 2021-10-29 Phase…         38 "Tegavivint for t… "A Phase 1/2 Study o…
##  7 NCT045… 2021-09-30 N/A           112 "DASH INterventio… "Determining the str…
##  8 NCT044… 2021-09-30 Phase…         30 "Hypofractionated… "Phase II Trial of P…
##  9 NCT048… 2021-09-30 Phase…         65 "ASP8374 + Cemipl… "Phase Ib Trial of A…
## 10 NCT048… 2021-09-30 N/A            94 "Effects of a Hig… "The Effects of a Hi…
## # … with 5,811 more rows, and 22 more variables:
## #   primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Or, all of the interventional studies that have a primary industry sponsor:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>study_type <span class="op">=</span> <span class="st">"Interventional"</span>, sponsor_type <span class="op">=</span> <span class="st">"Industry"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 1,596 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT046… 2021-07-15 N/A           100 Real-time Diagnos… Real-time Diagnosis …
##  2 NCT048… 2021-06-30 Phase…         24 A Study Evaluatin… A Phase 1/2a, Double…
##  3 NCT048… 2021-06-04 Phase…        110 Protonix Treatmen… An Exploratory, Mult…
##  4 NCT048… 2021-06-01 Phase…         40 A Phase 1, First-… A Phase 1, First-In-…
##  5 NCT048… 2021-06-01 Phase…         80 Perivenous Dexame… Perivenous Dexametha…
##  6 NCT047… 2021-05-31 Phase…        450 Study Evaluating … A Randomized, Open-l…
##  7 NCT048… 2021-05-31 Phase…        172 Oral Combination … Efficacy and Safety …
##  8 NCT048… 2021-05-31 Phase…         18 Study to Assess t… An Open-label, Multi…
##  9 NCT047… 2021-05-30 Phase…        418 Trial to Evaluate… Randomized, Controll…
## 10 NCT048… 2021-05-30 Phase…         12 Evaluating the Ph… Open-label Uncontrol…
## # … with 1,586 more rows, and 22 more variables:
## #   primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>A few fields have continuous values that can be searched by giving a vector with two values. The results return any values that fall between the lower bound (first value) and the upper bound (second value). Here, we find the studies that have between 40 and 42 patients enrolled in them:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">42</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 253 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT048… 2021-06-01 Phase…         40 A Phase 1, First-… A Phase 1, First-In-…
##  2 NCT048… 2021-05-31 Phase…         40 TLR-9 Adjuvanted … Augmentation of Humo…
##  3 NCT043… 2021-05-31 &lt;NA&gt;           42 COA-APTIC Caregiv… COA-APTIC Caregiver …
##  4 NCT048… 2021-05-01 N/A            40 Acceptability, Fe… The CF Wellness Prog…
##  5 NCT046… 2021-04-13 N/A            40 Exercise as Adjun… A Telehealth Physica…
##  6 NCT044… 2021-04-01 N/A            40 Pilot RCT Feasibi… A Nurse-led Interven…
##  7 NCT048… 2021-03-17 N/A            40 NuGa (Nutrition f… A Pilot Study to Eva…
##  8 NCT047… 2021-03-01 N/A            40 Efficacy of Magne… Efficacy of Magnesiu…
##  9 NCT047… 2021-02-25 N/A            40 Effects of Dry Ne… Effects of Dry Needl…
## 10 NCT047… 2021-02-18 N/A            40 Efficacy of Exerc… Efficacy of Selected…
## # … with 243 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Setting one end of the range to missing avoids searching for that end of the range. For example, the following finds any studies with 1000 or more patients.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 450 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT043… 2021-06-30 &lt;NA&gt;         1300 Adult Functioning… Developing a Gold St…
##  2 NCT039… 2021-06-30 N/A          2892 Maternal Hyperoxy… Maternal Hyperoxygen…
##  3 NCT043… 2021-06-30 &lt;NA&gt;         2000 Advance Directive… Advance Directive Im…
##  4 NCT046… 2021-05-31 Phase…       1476 AZithromycin Ther… AZithromycin Therapy…
##  5 NCT048… 2021-05-28 Phase…      28000 A Phase III Clini… A Global, Multi-cent…
##  6 NCT039… 2021-05-17 &lt;NA&gt;         9999 Structural Heart … NHLBI Structural Hea…
##  7 NCT048… 2021-05-01 &lt;NA&gt;         2000 Multicentric Bone… Multicentric Study f…
##  8 NCT041… 2021-05-01 N/A          1055 Orthotics for Tre… Orthotics for Treatm…
##  9 NCT047… 2021-04-30 Phase…       1466 STOPping Anticoag… STOPping Anticoagula…
## 10 NCT046… 2021-04-26 N/A          1211 St. Joe's Invitat… Increasing Cancer Sc…
## # … with 440 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Similarly, we can give a range of dates. These are given in the form of strings as “YYYY-MM-DD”:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 62 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT041… 2020-02-01 &lt;NA&gt;          440 Cardiac Dysfuncti… Cardiac Dysfunction …
##  2 NCT040… 2020-02-01 N/A            34 Photobiomodulatio… Evaluation of the Ef…
##  3 NCT046… 2020-02-01 N/A            40 Comparing Adjusta… Comparison Between I…
##  4 NCT039… 2020-02-01 Phase…         30 Imaging of Neuro-… Imaging of Glial Act…
##  5 NCT042… 2020-02-01 Early…         50 Effects of Empagl… Effects of Empaglifl…
##  6 NCT038… 2020-02-01 N/A           140 The Effects of Om… The Effects of Omega…
##  7 NCT042… 2020-02-01 N/A           150 Pain After Preope… Pain After Preoperat…
##  8 NCT044… 2020-02-01 N/A           300 Psychological Int… Psychological Interv…
##  9 NCT035… 2020-02-01 Phase…        120 Urate Lowering Th… The Cardiovascular E…
## 10 NCT042… 2020-02-01 &lt;NA&gt;          800 A Survey of Manag… A Survey of Manageme…
## # … with 52 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Finally, we can also search free text fields using keywords. The following for example finds and study that includes the phrase “lung cancer” (ignoring case) in the description field:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="st">"lung cancer"</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 103 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT045… 2021-03-31 Phase…        142 Safety and Effica… A Phase 1b/2 Multipl…
##  2 NCT046… 2021-01-31 Phase…        100 Combined Atezoliz… Clinical Study of Pr…
##  3 NCT045… 2020-12-01 &lt;NA&gt;          100 The Establishment… The Establishment an…
##  4 NCT034… 2020-10-31 &lt;NA&gt;            0 Ethnic/Racial Dif… Ethnic/Racial Differ…
##  5 NCT044… 2020-09-24 Phase…         15 A Study of the Sa… An Open-label, Safet…
##  6 NCT038… 2020-09-10 Phase…         90 Apatinib Combined… A Prospective, Multi…
##  7 NCT035… 2020-09-01 &lt;NA&gt;         6000 Lung Cancer Scree… LUng Cancer Screenin…
##  8 NCT047… 2020-04-17 &lt;NA&gt;          500 LALUCA Research P… Landsteiner Lung Can…
##  9 NCT042… 2019-12-24 Phase…        362 D-0316 Versus Ico… A Phase II/III, Open…
## 10 NCT041… 2019-11-05 Early…         20 [18F]-AraG for th… Imaging of T-Cell Ac…
## # … with 93 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>We can search two terms at once as well, by default it finds things that match at least one of the terms:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lung cancer"</span>, <span class="st">"colon cancer"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 116 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT045… 2021-03-31 Phase…        142 Safety and Effica… A Phase 1b/2 Multipl…
##  2 NCT046… 2021-03-01 N/A            50 Systemic and Peri… Systemic and Periton…
##  3 NCT046… 2021-01-31 Phase…        100 Combined Atezoliz… Clinical Study of Pr…
##  4 NCT045… 2020-12-01 &lt;NA&gt;          100 The Establishment… The Establishment an…
##  5 NCT034… 2020-10-31 &lt;NA&gt;            0 Ethnic/Racial Dif… Ethnic/Racial Differ…
##  6 NCT044… 2020-09-24 Phase…         15 A Study of the Sa… An Open-label, Safet…
##  7 NCT038… 2020-09-10 Phase…         90 Apatinib Combined… A Prospective, Multi…
##  8 NCT035… 2020-09-01 &lt;NA&gt;         6000 Lung Cancer Scree… LUng Cancer Screenin…
##  9 NCT047… 2020-04-17 &lt;NA&gt;          500 LALUCA Research P… Landsteiner Lung Can…
## 10 NCT042… 2019-12-24 Phase…        362 D-0316 Versus Ico… A Phase II/III, Open…
## # … with 106 more rows, and 22 more variables: primary_completion_date &lt;date&gt;,
## #   study_type &lt;chr&gt;, description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;,
## #   allocation &lt;chr&gt;, intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;,
## #   primary_purpose &lt;chr&gt;, time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>But the <code>match_all</code> flag can be set to search for both terms at the same time (here, that returns no matches):</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lung cancer"</span>, <span class="st">"colon cancer"</span><span class="op">)</span>, match_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 0 x 28
## # … with 28 variables: nct_id &lt;chr&gt;, start_date &lt;date&gt;, phase &lt;chr&gt;,
## #   enrollment &lt;int&gt;, brief_title &lt;chr&gt;, official_title &lt;chr&gt;,
## #   primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;, description &lt;chr&gt;,
## #   eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Other keyword fields include <code>official_title_kw</code>, <code>source_kw</code> and <code>criteria_kw</code>.</p>
<p>Any of the options can be combined as needed.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>
  description_kw <span class="op">=</span> <span class="st">"cancer"</span>,
  enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span>,
  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 11 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT041… 2020-01-31 Phase…        155 Compare the Effic… Compare the Efficacy…
##  2 NCT046… 2020-01-22 Phase…        100 Performance of Co… Performance of Contr…
##  3 NCT040… 2020-01-10 Phase…        125 YIV-906 (Formerly… A Phase II Randomize…
##  4 NCT037… 2019-12-30 &lt;NA&gt;          100 Targeted Next Gen… An Observational Pha…
##  5 NCT043… 2019-11-29 &lt;NA&gt;          200 ctDNA Monitoring … Monitoring Circulati…
##  6 NCT041… 2019-09-26 Phase…        104 Study of Tazemeto… A Phase 1b/2 Open-La…
##  7 NCT044… 2019-08-01 Phase…        117 Efficacy and Safe… A Phase II, Single-a…
##  8 NCT041… 2019-07-15 N/A           110 Quality of Life a… Fibromyalgia: Impact…
##  9 NCT037… 2019-04-29 Phase…        192 A Single-Arm Stud… A Phase 2, Single-Ar…
## 10 NCT029… 2019-01-25 Phase…        102 Vaccination of Tr… A Combined Phase i/I…
## 11 NCT027… 2019-01-22 N/A           200 The Role of Value… The Role of Values, …
## # … with 22 more variables: primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;,
## #   description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
<p>Finally, we can also pass a current version of the data set to the query function, rather than starting with the full data set. This is useful when you want to combine queries in a more complex way. For example, this is equivalent to the above:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>description_kw <span class="op">=</span> <span class="st">"cancer"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 11 x 28
##    nct_id  start_date phase  enrollment brief_title        official_title       
##    &lt;chr&gt;   &lt;date&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;                
##  1 NCT041… 2020-01-31 Phase…        155 Compare the Effic… Compare the Efficacy…
##  2 NCT046… 2020-01-22 Phase…        100 Performance of Co… Performance of Contr…
##  3 NCT040… 2020-01-10 Phase…        125 YIV-906 (Formerly… A Phase II Randomize…
##  4 NCT037… 2019-12-30 &lt;NA&gt;          100 Targeted Next Gen… An Observational Pha…
##  5 NCT043… 2019-11-29 &lt;NA&gt;          200 ctDNA Monitoring … Monitoring Circulati…
##  6 NCT041… 2019-09-26 Phase…        104 Study of Tazemeto… A Phase 1b/2 Open-La…
##  7 NCT044… 2019-08-01 Phase…        117 Efficacy and Safe… A Phase II, Single-a…
##  8 NCT041… 2019-07-15 N/A           110 Quality of Life a… Fibromyalgia: Impact…
##  9 NCT037… 2019-04-29 Phase…        192 A Single-Arm Stud… A Phase 2, Single-Ar…
## 10 NCT029… 2019-01-25 Phase…        102 Vaccination of Tr… A Combined Phase i/I…
## 11 NCT027… 2019-01-22 N/A           200 The Role of Value… The Role of Values, …
## # … with 22 more variables: primary_completion_date &lt;date&gt;, study_type &lt;chr&gt;,
## #   description &lt;chr&gt;, eudract_num &lt;chr&gt;, other_id &lt;chr&gt;, allocation &lt;chr&gt;,
## #   intervention_model &lt;chr&gt;, observational_model &lt;chr&gt;, primary_purpose &lt;chr&gt;,
## #   time_perspective &lt;chr&gt;, masking_description &lt;chr&gt;,
## #   intervention_model_description &lt;chr&gt;, sampling_method &lt;chr&gt;, gender &lt;chr&gt;,
## #   minimum_age &lt;dbl&gt;, maximum_age &lt;dbl&gt;, population &lt;chr&gt;, criteria &lt;chr&gt;,
## #   sponsor &lt;chr&gt;, sponsor_type &lt;chr&gt;, conditions &lt;chr&gt;,
## #   interventions &lt;list&lt;tibble&gt;&gt;</code></pre>
</div>
<div id="visualizing-the-output" class="section level2">
<h2 class="hasAnchor">
<a href="#visualizing-the-output" class="anchor"></a>Visualizing the output</h2>
<p>The package (will) also contain a number of tools for visualizing the output. Here is one example:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/ctgov_query.html">ctgov_query</a></span><span class="op">(</span>
  description_kw <span class="op">=</span> <span class="st">"cancer"</span>,
  enrollment_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">200</span><span class="op">)</span>,
  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2019-01-01"</span>, <span class="st">"2020-02-01"</span><span class="op">)</span>
<span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/ctgov_plot_timeline.html">ctgov_plot_timeline</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `disease`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `drug`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `status`.</code></pre>
<pre><code>## Warning: Unknown or uninitialised column: `source`.</code></pre>
<p><img src="introduction_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Taylor Arnold, Michael J. Kane.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
